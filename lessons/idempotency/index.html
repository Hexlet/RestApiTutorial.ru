<!doctype html><html><head><meta charset=utf-8><title>REST API Tutorial — руководство по REST API</title><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="The REST API Tutorial. Learn REST API best practices."><meta name=author content="Andrey Kumanyaev, Kaize Team"><link rel=stylesheet href=../../css/styles.min.css media=screen><link rel='shortcut icon' type=image/x-icon href=../../../../rest-api-icon.svg></head><body class="d-flex flex-column min-vh-100"><nav class="navbar navbar-expand-lg navbar-dark bg-dark sticky-top"><div class="container justify-content-start"><button class=navbar-toggler type=button data-bs-toggle=collapse data-bs-target=#navbarSupportedContent aria-controls=navbarSupportedContent aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button>
<a class="navbar-brand ms-2" href=../../>Руководство по REST API</a><div class="collapse navbar-collapse" id=navbarSupportedContent><ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class=nav-item><a class=nav-link href=../../><span>Главная</span></a></li><li class="nav-item dropdown" id=api-school><a class="nav-link dropdown-toggle active" id=navbarDropdown role=button data-bs-toggle=dropdown aria-expanded=false href=#>Руководства<b class=caret></b></a><ul class=dropdown-menu aria-labelledby=navbarDropdown><li><a class=dropdown-item href=../../lessons/whatisrest/>Что такое REST?</a></li><li><a class=dropdown-item href=../../lessons/restquicktips/>Советы по REST API</a></li><li><a class=dropdown-item href=../../lessons/httpmethods/>HTTP методы</a></li><li><a class=dropdown-item href=../../lessons/restfulresourcenaming/>Именование ресурсов</a></li><li><a class=dropdown-item href=../../lessons/idempotency/>Идемпотентность</a></li></ul></li><li class=nav-item><a class=nav-link href=../../httpstatuscodes/><span>HTTP коды ответа</span></a></li><li class=nav-item><a class=nav-link href=../../resources/><span>Источники и ресурсы</span></a></li></ul></div></div></nav><div id=content><div class="container pt-3 pb-5"><h1 id=что-такое-идемпотентность>Что такое Идемпотентность?</h1><div class=mt-3><button class="btn btn-outline-primary btn-sm" data-bs-toggle=collapse href=#video1 aria-expanded=false aria-controls=collapseExample>Скрыть/Показать
Видео</button></div><div id=video1 class="collapse show in"><iframe class=mt-3 width=853 height=480 src=https://www.youtube.com/embed/6dVNdFwqeKs frameborder=0 allowfullscreen></iframe></div><h2 id=идемпотентность>Идемпотентность</h2><p>Идемпотентность - это забавное слово, которое часто выбивает людей из
колеи. Идемпотентность кажется иногда запутанной концепцией, по крайней мере,
если судить по академическому определению.</p><p>С точки зрения RESTful-сервиса, операция (или вызов сервиса) идемпотентна тогда,
когда клиенты могут делать один и тот же вызов неоднократно при одном и том же
результате, работая как &ldquo;сеттер&rdquo; в языке программирования. Другими словами, создание
большого количества идентичных запросов имеет такой же эффект, как и один запрос.
Заметьте, что в то время, как идемпотентные операции производят один и тот же
результат на сервере (побочные эффекты), ответ сам по себе может не быть тем же
самым (например, состояние ресурса может измениться между запросами).</p><p>Методы PUT и DELETE по определению идемпотентны. Тем не менее есть один нюанс с
методом DELETE. Проблема в том, что успешный DELETE-запрос возвращает статус 200 (OK)
или 204 (No Content), но для последующих запросов будет всё время возвращать 404 (Not Found),
если только сервис не сконфигурирован так, чтобы &ldquo;помечать&rdquo; ресурс как
удалённый без его фактического удаления. Как бы то ни было, когда сервис на самом
деле удаляет ресурс, следующий вызов не найдёт этот ресурс и вернет 404. Состояние
на сервере после каждого вызова DELETE то же самое, но ответы разные.</p><p>Методы GET, HEAD, OPTIONS и TRACE определены как безопасные, что также делает их
идемпотентными. Прочитайте секцию о безопасности ниже.</p><h2 id=безопасность>Безопасность</h2><p>Некоторые HTTP-методы (например: HEAD, GET, OPTIONS и TRACE) определены как безопасные,
это означает, что они предназначены только для получения информации и не должны изменять состояние сервера.
Другими словами, они не должны иметь побочных эффектов, за исключением безобидных эффектов, таких как:
логирование, кеширование, показ баннерной рекламы или увеличение веб-счетчика.
Созданный произвольный GET-запрос, который не учитывает контекст состояния приложения, следует считать
безопасным.</p><p>Упрощенно, безопасность означает, что вызов метода не имеет побочных эффектов. Следовательно,
такие (безопасные) запросы клиенты могут безопасно совершать неоднократно, не опасаясь изменить состояние
сервера. Это означает, что сервисы должны придерживаться определения безопасности для GET, HEAD, OPTIONS
и TRACE операций. Не выполнения этого свойства может приводить в заблуждение потребителя сервиса, а также
вызвать проблемы для веб-кеширования, поисковых систем и других автоматизированных агентов, которые
непреднамеренно будут изменять состояние сервера.</p><p>По определению, безопасные операции идемпотентны, так как они приводят к одному и тому же результату на сервере.</p><p>Безопасные методы реализованы как операции только для чтения. Однако безопасность не означает, что сервер должен
возвращать тот же самый результат каждый раз.</p><div class="d-flex justify-content-between mt-3"><a class="btn btn-outline-primary btn-large" href=../../lessons/restfulresourcenaming/>Назад</a>
<a class="btn btn-outline-primary btn-large" href=../../lessons/httpmethods/>Далее</a></div></div></div><footer class="bg-dark text-light py-4 mt-5 mt-auto"><div class="container text-secondary"><div class=row><div class=col-sm><p>Данный сайт является переводом <a class="link-secondary text-decoration-none" href=https://www.restapitutorial.com/ target=_blank>RestApiTutorial.com</a></p><p class=hover-light><a class="link-secondary text-decoration-none" href=https://github.com/Hexlet/RestApiTutorial.ru target=_blank>Исходный код</a></p></div><div class=col-sm><p class=mb-1>&copy;Андрей Куманяев, 2012-2014. Все права защищены.</p><p class=mb-1>&copy;Kaize Team</p><p class=mb-1>&copy;Hexlet 2023</p><p class=mb-1>&copy;Pearson eCollege, 2012. All rights reserved.</p></div></div></div></footer><script src=../../js/bundle.min.js defer></script>
<script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-46669941-1","restapitutorial.ru"),ga("require","linkid","linkid.js"),ga("send","pageview")</script><script src=https://cdn.jsdelivr.net/gh/hexlet/hexlet-correction@main/src/widget/index.js></script>
<script src=../../../js/color_mode_toggler.js></script>
<script>handleTypoReporter({authorizationToken:"MTk3OjlhMGI5MzZlLWM5YjctNDVlMi1iMWViLThmOTdjODc0ODcxMw==",workSpaceUrl:"https://hexlet-correction.herokuapp.com",workSpaceId:197})</script></body></html>